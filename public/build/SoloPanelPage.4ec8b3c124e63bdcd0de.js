"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7849,4492],{24880:(C,d,t)=>{t.r(d),t.d(d,{SoloPanelPage:()=>m,SoloPanelRenderer:()=>p,default:()=>v});var n=t(96540),g=t(42418),D=t(62930),S=t(39419),y=t(7392),M=t(31678),I=t(72255),f=t(16401),A=t(41507),P=t(79284),E=t(30195),c=t(74730);function u(a,e){const[o,l]=(0,n.useState)(),[O,R]=(0,n.useState)();return(0,n.useEffect)(()=>{(0,f.Is)().initSync(a);const T=a.activate();let h=null;try{h=(0,c.vL)(a,e)}catch{}return h?(i(h),l(h)):(0,c.SN)(e)?s(a,e).then(L=>{L?l(L):R("Panel not found")}):R("Panel not found"),T},[a,e]),[o,O]}function i(a){let e=a.parent;for(;e&&!e.isActive;)e.activate(),e=e.parent}function s(a,e){return new Promise(o=>{a.subscribeToEvent(E.d,()=>{const l=(0,c.vL)(a,e);l?o(l):r(a.state.body)}),r(a.state.body)})}function r(a){a.forEachChild(e=>{if(e instanceof A.U&&!e.isActive){e.activate();return}if(e instanceof f.tI&&e.state.$behaviors){for(const o of e.state.$behaviors)if(o instanceof P.L&&!e.isActive){e.activate();break}r(e)}})}function m({match:a,queryParams:e}){const o=(0,I.sP)(),{dashboard:l}=o.useState();return(0,n.useEffect)(()=>(o.loadDashboard({uid:a.params.uid,route:M.DashboardRoutes.Embedded}),()=>o.clearState()),[o,a,e]),e.panelId?l?n.createElement(p,{dashboard:l,panelId:e.panelId}):n.createElement(S.A,null):n.createElement(y.L,{entity:"Panel"})}const v=m;function p({dashboard:a,panelId:e}){const[o,l]=u(a,e);return l?n.createElement(g.F,{title:l}):o?n.createElement("div",{className:"panel-solo"},n.createElement(o.Component,{model:o})):n.createElement("span",null,"Loading ",n.createElement(D.y,null))}},55087:(C,d,t)=>{t.r(d),t.d(d,{SoloPanel:()=>E,SoloPanelPage:()=>P,default:()=>c});var n=t(96540),g=t(71468),D=t(70713),S=t(76888),y=t(39569),M=t(20470);const I=u=>({dashboard:u.dashboard.getModel()}),f={initDashboard:M.vR},A=(0,g.connect)(I,f);class P extends n.Component{constructor(){super(...arguments),this.state={panel:null,notFound:!1}}static{this.contextType=S.YE}componentDidMount(){const{match:i,route:s}=this.props;this.props.initDashboard({urlSlug:i.params.slug,urlUid:i.params.uid,urlType:i.params.type,routeName:s.routeName,fixUrl:!1,keybindingSrv:this.context.keybindings})}getPanelId(){return parseInt(this.props.queryParams.panelId??"0",10)}componentDidUpdate(i){const{dashboard:s}=this.props;if(s&&(!i.dashboard||i.dashboard.uid!==s.uid)){const r=s.getPanelByUrlId(this.props.queryParams.panelId);if(!r){this.setState({notFound:!0});return}r&&s.exitViewPanel(r),this.setState({panel:r}),s.initViewPanel(r)}}render(){return n.createElement(E,{dashboard:this.props.dashboard,notFound:this.state.notFound,panel:this.state.panel,panelId:this.getPanelId(),timezone:this.props.queryParams.timezone})}}const E=({dashboard:u,notFound:i,panel:s,panelId:r,timezone:m})=>i?n.createElement("div",{className:"alert alert-error"},"Panel with id ",r," not found"):!s||!u?n.createElement("div",null,"Loading & initializing dashboard"):n.createElement("div",{className:"panel-solo"},n.createElement(D.Ay,null,({width:v,height:p})=>v===0?null:n.createElement(y.L,{stateKey:s.key,width:v,height:p,dashboard:u,panel:s,isEditing:!1,isViewing:!0,lazy:!1,timezone:m,hideMenu:!0}))),c=A(P)}}]);

//# sourceMappingURL=SoloPanelPage.4ec8b3c124e63bdcd0de.js.map