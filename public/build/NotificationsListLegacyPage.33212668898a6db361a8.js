"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[545],{22099:(M,c,a)=>{a.r(c),a.d(c,{default:()=>D});var e=a(96540),m=a(41053),r=a(17172),n=a(55852),d=a(66864),_=a(7521),s=a(36830),f=a(10096),g=a(25249),h=a(28444);const D=()=>{const u=(0,g.C)("channels"),[l,E]=(0,e.useState)([]),P=async()=>await(0,r.AI)().get("/api/alert-notifications"),[i,o]=(0,m.A)(P);(0,e.useEffect)(()=>{o().then(t=>{E(t)})},[o]);const p=t=>{f.lE.publish(new h.bY({title:"Delete",text:"Do you want to delete this notification channel?",text2:"Deleting this notification channel will not delete from alerts any references to it",icon:"trash-alt",confirmText:"Delete",yesText:"Delete",onConfirm:async()=>{y(t)}}))},y=async t=>{await(0,r.AI)().delete(`/api/alert-notifications/${t}`);const T=await o();E(T)};return e.createElement(s.Y,{navModel:u},e.createElement(s.Y.Contents,null,i.error&&e.createElement("p",null,i.error.message),!!l.length&&e.createElement(e.Fragment,null,e.createElement("div",{className:"page-action-bar"},e.createElement("div",{className:"page-action-bar__spacer"}),e.createElement(n.z9,{icon:"channel-add",href:"alerting-legacy/notification/new"},"New channel")),e.createElement("table",{className:"filter-table filter-table--hover"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{style:{minWidth:"200px"}},e.createElement("strong",null,"Name")),e.createElement("th",{style:{minWidth:"100px"}},"Type"),e.createElement("th",{style:{width:"1%"}}))),e.createElement("tbody",null,l.map(t=>e.createElement("tr",{key:t.id},e.createElement("td",{className:"link-td"},e.createElement("a",{href:`alerting-legacy/notification/${t.id}/edit`},t.name)),e.createElement("td",{className:"link-td"},e.createElement("a",{href:`alerting-legacy/notification/${t.id}/edit`},t.type)),e.createElement("td",{className:"text-right"},e.createElement(d.Gy,{justify:"flex-end"},t.isDefault&&e.createElement(n.$n,{disabled:!0,variant:"secondary",size:"sm"},"default"),e.createElement(n.$n,{variant:"destructive",icon:"times",size:"sm",onClick:()=>{p(t.id)}})))))))),!(l.length||i.loading)&&e.createElement(_.A,{title:"There are no notification channels defined yet",buttonIcon:"channel-add",buttonLink:"alerting-legacy/notification/new",buttonTitle:"Add channel",proTip:"You can include images in your alert notifications.",proTipLink:"http://docs.grafana.org/alerting/notifications/",proTipLinkTitle:"Learn more",proTipTarget:"_blank"})))}}}]);

//# sourceMappingURL=NotificationsListLegacyPage.33212668898a6db361a8.js.map